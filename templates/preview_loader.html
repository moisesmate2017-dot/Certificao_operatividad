<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Datos - Vista Previa</title>
    <style>
        table, td, th {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 6px;
        }
    </style>
</head>
<body>
    <h2>Vista Previa y Edición de Datos</h2>

    <form method="POST" action="/generar_pdf">
        <!-- Campos ocultos para mantener datos originales -->
        <input type="hidden" name="ubicacion" value="{{ ubicacion }}">
        <input type="hidden" name="fecha_inspeccion" value="{{ fecha_inspeccion }}">
        <input type="hidden" name="ingeniero" value="{{ ingeniero }}">

        <label>Cliente:</label><br>
        <input type="text" name="cliente" value="{{ cliente }}" required><br><br>

        <label>Dirección:</label><br>
        <input type="text" name="direccion" value="{{ direccion }}" required><br><br>

        <h3>Tanques de la instalación</h3>
        <table>
            <tr>
                <th>Capacidad (galones)</th>
                <th>Tipo</th>
                <th>Serie</th>
                <th>Eliminar</th>
            </tr>
            {% for idx, t in enumerate(tanques) %}
            <tr>
                <td><input type="text" name="capacidad_{{ idx }}" value="{{ t.capacidad }}"></td>
                <td><input type="text" name="tipo_{{ idx }}" value="{{ t.tipo }}"></td>
                <td><input type="text" name="serie_{{ idx }}" value="{{ t.serie }}"></td>
                <td><input type="checkbox" name="eliminar_{{ idx }}"></td>
            </tr>
            {% endfor %}
        </table>

        <br>
        <h3>Agregar nuevo tanque</h3>
        <label>Capacidad:</label>
        <input type="text" name="nuevo_cap"><br>

        <label>Tipo:</label>
        <input type="text" name="nuevo_tipo"><br>

        <label>Serie:</label>
        <input type="text" name="nuevo_serie"><br><br>

        <button type="submit">Generar PDF</button>
    </form>
</body>
</html>
